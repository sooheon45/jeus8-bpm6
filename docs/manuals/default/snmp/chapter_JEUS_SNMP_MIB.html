<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제3장 SNMP MIB</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="JEUS SNMP 안내서"/><link rel="up" href="index.html" title="JEUS SNMP 안내서"/><link rel="prev" href="chapter_JEUS_SNMP_Agent_Overview.html" title="제2장 SNMP Agent 설정"/><link rel="next" href="chapter_JEUS_SNMP_Programming.html" title="제4장 SNMP Manager 애플리케이션"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제3장 SNMP MIB</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chapter_JEUS_SNMP_Agent_Overview.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chapter_JEUS_SNMP_Programming.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chapter_JEUS_SNMP_MIB"></a>제3장 SNMP MIB</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chapter_JEUS_SNMP_MIB.html#sect_JEUS_SNMP_MIB_Introduction">3.1. 개요</a></span></dt><dt><span class="section"><a href="chapter_JEUS_SNMP_MIB.html#sect_MIB_Browse">3.2. MIB 브라우징</a></span></dt><dt><span class="section"><a href="chapter_JEUS_SNMP_MIB.html#sect_Object_Identification_OID">3.3. 객체 식별(OID)</a></span></dt><dt><span class="section"><a href="chapter_JEUS_SNMP_MIB.html#sect_JEUS_SNMP_OID_Suffix">3.4. JEUS SNMP OID 접미어</a></span></dt><dt><span class="section"><a href="chapter_JEUS_SNMP_MIB.html#sect_JEUS_SNMP_OID_Suffix">3.5. Static OID와 Dynamic OID</a></span></dt></dl></div>
  

  <p>본 장에서는 SNMP MIB에 대해 설명한다.</p>

  <p/>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sect_JEUS_SNMP_MIB_Introduction"></a>3.1. 개요</h2></div></div></div>
    

    <p><a id="d4e609" class="indexterm"></a>사용자는 모든 JEUS 서버의 속성에 접근할 수 있는데 이것은 JEUS MIB에 정의되어 있다. MIB는
    표준 SNMP의 한 부분이다.</p>

    <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
        <p>MIB에 대한 자세한 내용은 <a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://www.ietf.org" target="_top">www.ietf.org</a> 사이트를 참조한다.</p>
      </div>

    <p/>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sect_MIB_Browse"></a>3.2. MIB 브라우징</h2></div></div></div>
    

    <p><a id="d4e619" class="indexterm"></a>JEUS MIB 파일은 다음의 디렉터리에 존재하는 TMAX-JEUS8.0-MIB.mib 파일에 정의되어
    있다.</p>

    <pre class="programlisting">JEUS_HOME/lib/system </pre>

    <p>직접적으로 MIB 파일을 볼 수 있으며 <a href="appendix_JEUS_SNMP_MIB_Reference.html" title="Appendix A. JEUS SNMP MIB 정보">“Appendix A. JEUS SNMP MIB 정보”</a>에서 OID 속성값의 매핑을 확인할 수
    있다.</p>

    <p>JEUS에서는 MIB 브라우저를 제공하지 않지만 3rd-Party MIB 브라우저를 사용할 수 있고, SNMP 유틸리티
    벤더 대부분에서 MIB 브라우저를 제공한다.</p>

    <p/>

    <p/>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sect_Object_Identification_OID"></a>3.3. 객체 식별(OID)</h2></div></div></div>
    

    <p>OID(Object ID)는 관리되는 객체를 구별하기 위해 정수를 나열한 것으로 OID 트리 구조를 사용해서 객체의 경로를
    정의한다. OID는 MIB 파일에서 정의한다.</p>

    <p><a id="d4e632" class="indexterm"></a>각 OID는 JEUS MBean의 각 속성과 매핑된다. JEUS SNMP Agent로 특정한 OID 값을
    가진 SNMP 패킷을 전송하면 OID와 일치하는 정보를 리턴한다.</p>

    

    <p>다음은 JEUS MIB의 OID 트리이다.</p>

    <div class="figure"><a id="figure_JEUS_MIB_OID"></a><p class="title"><b>[그림 3.1] JEUS MIB의 OID</b></p><div class="figure-contents">
        

        <div xmlns="" class="mediaobject" align="left"><img src="resources/figure_image006.png" align="top" alt="JEUS MIB의 OID"/></div>
      </div></div><p><br class="figure-break"/>TmaxSoft의 엔터프라이즈 OID는 1.3.6.1.4.1.14586이다. 즉, 모든 JEUS 속성값의 접두어는
    1.3.6.1.4.1.14586.100이 된다. 예를 들어 JEUS 서버 버전 속성값의 OID는
    1.3.6.1.4.1.14586.100.3.2이다.</p>

    <p/>

    <p/>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sect_JEUS_SNMP_OID_Suffix"></a>3.4. JEUS SNMP OID 접미어</h2></div></div></div>
    

    <p>객체열을 가져오는 표준 접미어는 다음과 같다.</p>

    <p/>

    <div class="informaltable">
        <table border="1"><colgroup><col width="80" align="left"/><col/></colgroup><thead><tr><th align="left">접미어</th><th>설명</th></tr></thead><tbody><tr><td align="left">0</td><td>모든 객체를 가져온다.</td></tr><tr><td align="left">1</td><td>전체 객체 중에서 첫 번째 객체만 가져온다.</td></tr></tbody></table>
      </div>

    <p/>

    <div class="literallayout"><p/></div>

    <p>예를 들어 1.3.6.1.4.1.14586.100.9.1.1 OID에서 1.3.6.1.4.1.14586.100.9.1은
    EJB 모듈의 객체 이름의 속성을 의미하고, 1.3.6.1.4.1.14586.100.9.1.1은 첫 번째 EJB 모듈의 객체 이름을
    의미한다. 그러므로 GET_NEXT 1.3.6.1.4.1.14586.100.9.1을 사용하면
    1.3.6.1.4.1.14586.100.9.1.1의 결과가 아닌 1.3.6.1.4.1.14586.100.9.2의 값이
    리턴된다.</p>

    <p><a id="d4e667" class="indexterm"></a>JEUS SNMP Agent는 객체들의 개수를 리턴하는 특별한 OID 접미어인 "9999"를 제공한다. 예를
    들어 GET 1.3.6.1.4.1.14586.100.9.1.9999라고 했을 때 JEUS에 10개의 EJB가 deploy되어 있다면
    10을 리턴한다.</p>

    <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
      <p>모든 OID 트리에 접미어가 있는 것이 아니므로 실제 OID만 탐색할 수 있다.</p>
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sect_JEUS_SNMP_OID_Suffix"></a>3.5. Static OID와 Dynamic OID</h2></div></div></div>
    

    <p>JEUS에서는 다음과 같이 2가지 OID 버전을 지원한다.</p>

    <div class="itemizedlist"><ul type="disc"><li>
          <p><span><strong class="guibutton">Static OID(정적 OID)</strong></span></p>

          <div class="itemizedlist"><ul type="circle"><li>
              <p>MIB 기반의 정보만으로 구성되는 OID이다.</p>
            </li><li>
              <p>Static OID는 동일한 특성의 객체에 대해서 동일한 OID가 할당된다. 그래서 하나의 OID에
              대해서 해당 객체가 여러 개 존재할 경우에는 값들이 목록으로 리턴된다.</p>

              <p>예를 들어 JEUS에 2개의 서버가 실행되고 있을 때 서버의 이름에 해당하는 OID로 요청을 하면,
              [server name1, server name2]와 같이 목록이 리턴된다.</p>
            </li><li>
              <p>동일한 OID에 대해서 여러 객체가 존재할 경우 해당 객체에 대한 모니터링이 쉽지 않다.</p>
            </li></ul></div>
        </li><li>
          <p><span><strong class="guibutton">Dynamic OID(동적 OID)</strong></span></p>

          <div class="itemizedlist"><ul type="circle"><li>
              <p>Dynamic OID는 객체에 대한 유일한 값을 부여하기 위해서 MIB에 의한 정보로 구성된 OID에
              "."으로 구분된 32개의 숫자를 나열하여 구성된다.</p>

              <p>(예: [MIB 기반 OID].1.2.3.4.5.--- . 31.32)</p>
            </li><li>
              <p>32자리의 ID는 객체가 생성될 때 SNMP Agent에서 동적으로 생성된다. 각각의 객체에
              Dynamic OID를 부여하여 특정 객체에 대한 모니터링이 용이하다.</p>
            </li></ul></div>
        </li></ul></div><div class="literallayout"><p/></div>

    <p>예를 들어서 2개의 서버를 운용 중인 JEUS에 각 서버의 Thread Pool의 최댓값과 최솟값을 알고 싶을 경우에
    Static OID와 Dynamic OID의 차이는 다음과 같다.</p>

    <div class="itemizedlist"><ul type="disc"><li>
          <p>Static OID의 경우</p>

          <p>다음의 형식으로 된 MIB 기반의 OID에 해당 객체들의 목록이 리턴된다.</p>

          <pre class="programlisting">[최댓값에 해당하는 OID]=[ maximum, maximum' ], [최솟값에 해당하는 OID]=[ minimum, minimum' ]</pre>

          <p>이때 결과값의 목록에서 동일한 위치의 maximum과 minimum이 같은 서버의 값인지 보장되지 않기 때문에
          같은 서버에 연관된 값을 알 수 없다(하나의 서버에 해당하는 값이 첫 번째 나올 수도 있고, 두 번째 나올 수도
          있다).</p>
        </li><li>
          <p>Dynamic OID의 경우</p>

          <p>다음의 형식으로 결과값이 출력되기 때문에 특정 객체에 대한 연관된 값을 정확하게 알 수 있다.</p>

          <pre class="programlisting">[최댓값에 해당하는 OID].[server1의 동적 생성 OID]=maximum, [최솟값에 해당하는 OID].[server1의 동적 생성 OID]=minimum</pre>
        </li></ul></div>

    <p/>

    <div class="literallayout"><p/></div>

    <p>JEUS에서 SNMP는 Dynamic OID를 기본으로 동작한다. Static OID로 SNMP를 사용하고 싶다면 JEUS
    실행 스크립트에서 다음과 같이 실행한다.</p>

    <pre class="programlisting">-Djeus.management.snmp.dynamic=false</pre>

    <p/>

    <p/>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chapter_JEUS_SNMP_Agent_Overview.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chapter_JEUS_SNMP_Programming.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제2장 SNMP Agent 설정 </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제4장 SNMP Manager 애플리케이션</td></tr></table></div><div xmlns="" align="center"/></body></html>
