<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta xmlns="" http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>제3장 EJB 모듈</title><link rel="stylesheet" href="../stylesheet.css" type="text/css"/><meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/><link rel="start" href="index.html" title="JEUS EJB 안내서"/><link rel="up" href="index.html" title="JEUS EJB 안내서"/><link rel="prev" href="chapter_ejb_engine.html" title="제2장 EJB 엔진"/><link rel="next" href="chapter_common_characters_of_ejb.html" title="제4장 EJB의 공통 특성"/></head><body><div xmlns="" class="navheader"><table width="100%" summary="Navigation header"><tr><td class="navbar-title" colspan="3" align="center">제3장 EJB 모듈</td></tr><tr><td width="20%" align="left"><a accesskey="p" href="chapter_ejb_engine.html">이전</a> </td><td class="navbar-title" width="60%" align="center"> </td><td width="20%" align="right"> <a accesskey="n" href="chapter_common_characters_of_ejb.html">다음</a></td></tr></table><hr/></div><div class="chapter" lang="ko"><div class="titlepage"><div><div><h2 class="title"><a id="chapter_ejb_module"></a>제3장 EJB 모듈</h2></div></div></div><div class="toc"><p><b>내용 목차</b></p><dl><dt><span class="section"><a href="chapter_ejb_module.html#d4e1305">3.1. 개요</a></span></dt><dt><span class="section"><a href="chapter_ejb_module.html#d4e1314">3.2. EJB 모듈 관리</a></span></dt><dt><span class="section"><a href="chapter_ejb_module.html#sect_ejbmodule_assembling">3.3. EJB 모듈 조립(Assembling)</a></span></dt><dd><dl><dt><span class="section"><a href="chapter_ejb_module.html#d4e1436">3.3.1. EJB 클래스 컴파일</a></span></dt><dt><span class="section"><a href="chapter_ejb_module.html#d4e1446">3.3.2. Deployment Descriptors(DD) 작성</a></span></dt><dt><span class="section"><a href="chapter_ejb_module.html#d4e1551">3.3.3. EJB JAR 파일 패키징</a></span></dt></dl></dd><dt><span class="section"><a href="chapter_ejb_module.html#sect_ejbmodule_deploy">3.4. EJB 모듈 Deploy</a></span></dt><dd><dl><dt><span class="section"><a href="chapter_ejb_module.html#d4e1586">3.4.1. Deploy</a></span></dt><dt><span class="section"><a href="chapter_ejb_module.html#d4e1727">3.4.2. Deploy된 EJB 모듈의 디렉터리 구조</a></span></dt></dl></dd><dt><span class="section"><a href="chapter_ejb_module.html#d4e1787">3.5. EJB 모듈 제어 및 모니터링</a></span></dt><dd><dl><dt><span class="section"><a href="chapter_ejb_module.html#sect_ejbmodule_controlling">3.5.1. EJB 모듈 제어</a></span></dt><dt><span class="section"><a href="chapter_ejb_module.html#sect_ejbmodule_monitoring">3.5.2. EJB 모듈 모니터링</a></span></dt></dl></dd></dl></div>
  

  <p>본 장에서는 EJB 모듈의 구조와 관리 방법에 대해서 설명한다.</p>

  <p/>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d4e1305"></a>3.1. 개요</h2></div></div></div>
    

    <p><a id="d4e1308" class="indexterm"></a>EJB 모듈은 EJB 엔진에 deploy할 수 있는 기본 단위이다. 또한 EJB 컴포넌트들을 그룹화하고
    이들의 설정 정보를 DD로 표현할 수 있도록 한 것이다. EJB를 deploy할 경우에는 단 하나의 EJB 컴포넌트를
    deploy하더라도 반드시 EJB 모듈로 패키징해야 한다.</p>

    <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
        <p>EJB 2.1 이하의 컴포넌트인 경우에는 EJB 모듈에 반드시 DD(ejb-jar.xml)가 있어야 하지만 3.0
        이상의 컴포넌트부터는 Annotation을 지원하게 되면서 DD는 선택 사항으로 변경되었다.</p>
      </div>

    <p/>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d4e1314"></a>3.2. EJB 모듈 관리</h2></div></div></div>
    

    <p>다음은 JEUS 내부적으로 EJB 모듈을 관리하기 위한 4가지 주요 작업으로 각 작업에 대한 상세한 설명은 세부 절을
    참고한다.</p>

    <div class="itemizedlist"><ul type="disc"><li>
          <p>assembly : <a href="chapter_ejb_module.html#sect_ejbmodule_assembling" title="3.3. EJB 모듈 조립(Assembling)">“3.3. EJB 모듈 조립(Assembling)”</a></p>
        </li><li>
          <p>deployment : <a href="chapter_ejb_module.html#sect_ejbmodule_deploy" title="3.4. EJB 모듈 Deploy">“3.4. EJB 모듈 Deploy”</a></p>
        </li><li>
          <p>control(undeploy, redeploy, stop-application,
          start-application) : <a href="chapter_ejb_module.html#sect_ejbmodule_controlling" title="3.5.1. EJB 모듈 제어">“3.5.1. EJB 모듈 제어”</a></p>
        </li><li>
          <p>monitoring : <a href="chapter_ejb_module.html#sect_ejbmodule_monitoring" title="3.5.2. EJB 모듈 모니터링">“3.5.2. EJB 모듈 모니터링”</a></p>
        </li></ul></div>

    <div class="literallayout"><p/></div>

    

    <p>EJB 모듈의 관리 순서는 다음과 같다.</p>

    <div class="figure"><a id="figure_ejb_sequence_diagram"></a><p class="title"><b>[그림 3.1] EJB 모듈 관리 순서도</b></p><div class="figure-contents">
        

        <div xmlns="" class="mediaobject" align="left"><img src="resources/figure_8_ejb_sequence_diagram.png" align="top" alt="EJB 모듈 관리 순서도"/></div>
      </div></div><p><br class="figure-break"/></p>

    <p/>

    <p/>

    <h3><a id="d4e1344"></a>EJB 모듈 JAR 파일 구조</h3>

    <p>다음은 표준 EJB 모듈 JAR 파일의 구조에 대한 설명이다. <a id="d4e1346" class="indexterm"></a></p><div class="figure"><a id="figure_jar_structure_of_ejbmodule"></a><p class="title"><b>[그림 3.2] Java EE EJB 모듈 JAR 파일의 구조</b></p><div class="figure-contents">
        

        <div xmlns="" class="mediaobject" align="left"><img src="resources/figure_9_ejb_module_jar_file_structure.png" align="top" alt="Java EE EJB 모듈 JAR 파일의 구조"/></div>
      </div></div><p><br class="figure-break"/></p>

    <p/>

    <div class="variablelist"><dl><dt><span class="term">META-INF</span></dt><dd>
            <p/>

            <div class="informaltable">
                <table border="1"><colgroup><col width="170" align="left"/><col/></colgroup><thead><tr><th align="left">구분</th><th>설명</th></tr></thead><tbody><tr><td align="left">ejb-jar.xml</td><td>실제적인 표준 EJB DD 파일이다. Annotation으로 설정 정보를 표현한 경우에는
                      존재하지 않을 수 있다. 단, EJB 2.x 스타일의 경우에는 반드시 필요하다.</td></tr><tr><td align="left">jeus-ejb-dd.xml</td><td>JEUS에서 EJB를 deploy할 때 필요한 DD 파일이다. (선택
                      사항)</td></tr></tbody></table>
              </div>

            <p/>
          </dd><dt><span class="term"><span class="emphasis"><em>&lt;package name&gt;</em></span>\</span></dt><dd>
            <p>EJB 클래스들을 포함하고 있다. EJB 소스 코드에 정의되어 있는 것과 같이 Java 패키지 구조를
            반영하는 구조로 되어 있어야 한다. 예를 들어 하나의 EJB가 "mypackage"라는 패키지에 속해 있다고 선언되어
            있으면 EJB의 클래스는 반드시 EJB JAR의 "mypackage"라는 디렉터리 아래에 위치해야 한다.</p>

            <p>다음과 같은 EJB 컴포넌트를 포함한다.</p>

            <div class="informaltable">
              <table border="1"><colgroup><col width="170" align="left"/><col/></colgroup><thead><tr><th align="left">구분</th><th>설명</th></tr></thead><tbody><tr><td align="left">인터페이스</td><td>클라이언트가 접근하기 위한 EJB 2.x 스타일의 인터페이스, 3.0 이상의
                    인터페이스들이다.</td></tr><tr><td align="left">엔터프라이즈 Bean 클래스</td><td>인터페이스에 맞춰서 실제 업무 로직을 구현한 Bean 클래스들을 의미한다.</td></tr></tbody></table>
            </div>

            <p/>
          </dd><dt><span class="term">Helper library</span></dt><dd>
            <p>MANIFEST.MF Class-Path Entry에 명시한 라이브러리에 해당한다.</p>
          </dd></dl></div>

    <p/>

    <p/>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sect_ejbmodule_assembling"></a>3.3. EJB 모듈 조립(Assembling)</h2></div></div></div>
    

    <p><a href="chapter_ejb_module.html#figure_ejb_sequence_diagram" title="[그림 3.1] EJB 모듈 관리 순서도">[그림 3.1]</a>과 같이 EJB 모듈을 조립할 때는
    다음의 과정을 수행한다.</p>

    <div class="orderedlist"><ol type="1"><li>
        <p>EJB 클래스 컴파일</p>

        <p>개발자가 구현한 EJB 소스 파일들을 컴파일한다.</p>
      </li><li>
        <p>DD 작성</p>

        <div class="itemizedlist"><ul type="circle"><li style="list-style-type: circle">
              <p>ejb-jar.xml DD 작성</p>
            </li><li style="list-style-type: circle">
              <p>jeus-ejb-dd.xml DD 작성</p>
            </li></ul></div>
      </li><li>
        <p>EJB JAR 파일 패키징</p>

        <p>JAR 파일로 EJB 클래스와 DD를 패키징한다.</p>
      </li></ol></div>

    <p/>

    <div class="literallayout"><p/></div>

    <p>다음 절부터는 "counter" 예제를 통해 EJB 모듈 조립 과정을 설명한다. "counter"는
    JEUS_HOME/samples/ejb/basic/statefulSession/ 디렉터리에 위치한 Stateful Session
    Bean으로, 다음과 같은 2개의 Java 소스 파일이 갖는다.</p><div class="itemizedlist"><ul type="disc"><li>
          <p>Counter.java(business interface)</p>
        </li><li>
          <p>CounterEJB.java(bean implementation)</p>
        </li></ul></div>

    <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
        <p>Stateful Session Bean이나 다른 종류의 Bean에 대한 자세한 정보는 <a href="chapter_session_ejb.html" title="제7장 Session Bean">“제7장 Session Bean”</a>, <a href="chapter_mdb.html" title="제9장 Message Driven Bean(MDB)">“제9장 Message Driven Bean(MDB)”</a>을
        참고한다.</p>
      </div>

    <p/>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d4e1436"></a>3.3.1. EJB 클래스 컴파일</h3></div></div></div>
      

      <p>EJB 소스 파일들로부터 EJB 모듈을 조립하는 첫 번째 과정은 개발자가 구현한 EJB 소스 파일들을 컴파일하는
      것이다. 이는 JDK의 <span><strong class="guibutton">javac</strong></span> 컴파일러를 이용한다. 클래스 패스는 기본적으로
      JEUS_HOME/lib/system/javaee.jar를 사용하며, jeus-ejb-dd.xml에 대응되는 Annotation을
      사용했다면 JEUS_HOME/lib/system/jeusapi.jar를 추가하고, 또 다른 helper 클래스가 있다면 모두
      추가한다.</p>

      <div class="literallayout"><p/></div>

      <p>다음은 "counter" Bean에서 사용될 EJB Java 파일들을 UNIX 환경에서 컴파일하는 명령 실행
      예이다.</p>

      <pre class="screen">$ javac –classpath JEUS_HOME/lib/system/javaee.jar *.java </pre>

      <p>위 명령을 실행하면 클래스 파일들이 생성된다.</p>

      <p/>

      
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d4e1446"></a>3.3.2. Deployment Descriptors(DD) 작성</h3></div></div></div>
      

      <p><a id="d4e1449" class="indexterm"></a></p>

      <p>EJB 모듈을 deploy할 때 사용되는 DD는 다음과 같이 2가지로 나누어진다.</p>

      <div class="itemizedlist"><ul type="disc"><li>
            <p>표준 EJB DD<a id="d4e1456" class="indexterm"></a></p>

            <p>ejb-jar.xml로 명명되고, EJB 모듈의 "META-INF/" 디렉터리에 위치한다. 개발자가 EJB
            컴포넌트를 작성할 때는 설정 정보의 일부 또는 전부를 Annotation으로 작성할 수도 있다. 만약
            Annotation 정보를 무시하고 DD의 설정만을 적용하고 싶은 경우에는 ejb-jar.xml에
            &lt;metadata-complete&gt;를 true로 설정한다. Annotation과 DD를 혼용해서 사용한
            경우는 DD가 Annotation에 우선한다.</p>
          </li><li>
            <p>JEUS EJB DD<a id="d4e1461" class="indexterm"></a></p>

            <p>jeus-ejb-dd.xml로 명명되고, EJB 모듈의 "META-INF/" 디렉터리에 위치한다. 이 파일의
            내용에 대한 정보는 아래의 <a href="chapter_ejb_module.html#sect_jeus_ejb_dd_xml" title="3.3.2. JEUS EJB DD(jeus-ejb-dd.xml) 작성">"jeus-ejb-dd.xml DD 작성"</a>을
            참고한다.</p>
          </li></ul></div>

      <div class="literallayout"><p/></div>

      <h4><a id="sect_depth4_ejb_jar_dd"></a>표준 EJB DD(ejb-jar.xml)
      작성</h4>

      <p>DD의 포맷은 EJB 표준에 따른다. 대부분 Annotation으로 가능하지만 필요한 경우 DD를
      사용한다.</p>

      <p/>

      <pre class="programlisting">package ejb.basic.statefulSession;
@Remote
public interface Counter
{
   public void increase();
  ...
}</pre>

      <pre class="programlisting">package ejb.basic.statefulSession;
@Stateful
@EJB(name="counter")
@TransactionManagement( TransactionManagementType.BEAN)
public class CounterEJB implements Counter {
   private int count = 0;

   public void increase()
   {
      count++;
   }
 ...
}</pre>

      <p>다음 예제는 Annotation을 "counter" Bean의 간단한 EJB 표준 DD(ejb-jar.xml)를 나타낸
      것이다.</p>

      <div class="example"><a id="d4e1475"></a><p class="title"><b>[예 3.1] EJB 표준 DD : &lt;&lt;ejb-jar.xml&gt;&gt;</b></p><div class="example-contents">
          

          

          <pre class="programlisting">&lt;?xml version="1.0"?&gt;
&lt;ejb-jar version="3.2" xmlns="http://xmlns.jcp.org/xml/ns/javaee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee
  http://xmlns.jcp.org/xml/ns/javaee/ejb-jar_3_2.xsd"&gt;
    &lt;enterprise-beans&gt;
        &lt;session&gt;
            &lt;ejb-name&gt;counter&lt;/ejb-name&gt;
            &lt;business-remote&gt;ejb.basic.statefulSession.Counter&lt;/business-remote&gt;
            &lt;ejb-class&gt;ejb.basic.statefulSession.CounterEJB&lt;/ejb-class&gt;
            &lt;session-type&gt;Stateful&lt;/session-type&gt;
            &lt;transaction-type&gt;Bean&lt;/transaction-type&gt;
        &lt;/session&gt;
    &lt;/enterprise-beans&gt;
    &lt;assembly-descriptor/&gt;
&lt;/ejb-jar&gt;</pre>
        </div></div><p><br class="example-break"/></p>

      <p/>

      <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
        <p>EJB 3.0 이상부터는 ejb-jar.xml의 모든 내용은 Annotation으로 표현 가능하므로 선택적으로
        사용한다.</p>
      </div>

      <div class="literallayout"><p/></div>

      <p/>

      <p/>

      <h4><a id="sect_jeus_ejb_dd_xml"></a>JEUS EJB
      DD(jeus-ejb-dd.xml) 작성</h4>

      <p>JEUS EJB DD가 필요한 이유는 EJB 엔진에 deploy하기 위한 기본 설정 및 External
      Reference들을 JEUS 서비스에 매핑시키기 위함이다. 그 외에도 인스턴스 Pooling과 Entity Bean, DB
      테이블과의 매핑 설정도 jeus-ejb-dd.xml에서 한다.</p>

      <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
          <p>이러한 설정들은 EJB 모듈을 JEUS에 맞추어 deploy하기 위해서 필요한 작업들이지만 일부는
          Annotation으로 설정 가능하고 jeus-ejb-dd.xml이 존재하지 않아도 기본값으로 설정되기 때문에 별도로
          환경설정을 해야 하는 경우에만 이 작업을 수행한다.</p>
        </div>

      <div class="literallayout"><p/></div>

      <p>JEUS EJB DD는 표준 EJB DD에 부가적인 설정으로 볼 수 있다. 표준 EJB DD와 마찬가지로 JEUS
      EJB DD도 EJB 모듈에 적용된다.</p>

      <p>다음은 JEUS EJB DD의 전반적인 구성이다.</p>

      <div class="example"><a id="d4e1495"></a><p class="title"><b>[예 3.2] JEUS EJB DD : &lt;&lt;jeus-ejb-dd.xml&gt;&gt;</b></p><div class="example-contents">
          

          

          <pre class="programlisting">&lt;?xml version="1.0"?&gt;
&lt;jeus-ejb-dd xmlns="http://www.tmaxsoft.com/xml/ns/jeus"&gt;
    &lt;module-info&gt;
        &lt;role-permission&gt;
            &lt;!-- See chapter <a href="chapter_common_characters_of_ejb.html#ejb_security" title="4.2.6. EJB 보안 설정">“4.2.6. EJB 보안 설정”</a> --&gt;
            . . .
        &lt;/role-permission&gt;
    &lt;/module-info&gt;
    &lt;beanlist&gt;
        &lt;jeusbean&gt;
            &lt;!-- See chapters <a href="chapter_common_characters_of_ejb.html" title="제4장 EJB의 공통 특성">“제4장 EJB의 공통 특성”</a>
                 and <a href="chapter_session_ejb.html" title="제7장 Session Bean">“제7장 Session Bean”</a> --&gt;
            . . .
        &lt;/jeusbean&gt;
        &lt;jeusbean&gt;
            &lt;!-- See chapters <a href="chapter_common_characters_of_ejb.html" title="제4장 EJB의 공통 특성">“제4장 EJB의 공통 특성”</a>
                 and <a href="chapter_session_ejb.html" title="제7장 Session Bean">“제7장 Session Bean”</a> --&gt;
            . . .
        &lt;/jeusbean&gt;
            . . .
    &lt;/beanlist&gt;
    &lt;ejb-relation-map&gt;
        &lt;!-- See chapter <a href="chapter_entity_bean.html" title="제8장 Entity Bean">“제8장 Entity Bean”</a> --&gt;
    &lt;/ejb-relation-map&gt;
    &lt;message-destination&gt; 
        &lt;jndi-info&gt;
            &lt;ref-name&gt;ejb/AccountEJB&lt;/ref-name&gt;
            &lt;export-name&gt;ACCEJB&lt;/export-name&gt;
        &lt;/jndi-info&gt;
    &lt;/message-destination&gt;

    &lt;library-ref&gt;
        &lt;library-name&gt;jsf&lt;/library-name&gt;
        &lt;specification-version&gt;
            &lt;value&gt;1.2&lt;/value&gt;
        &lt;/specification-version&gt;
        &lt;implementation-version&gt;
            &lt;value&gt;1.2&lt;/value&gt;
        &lt;/implementation-version&gt;
    &lt;/library-ref&gt;

&lt;/jeus-ejb-dd&gt;  </pre>
        </div></div><p><br class="example-break"/></p>

      <p>JEUS EJB DD의 주요 요소들은 다음과 같다.</p>

      <div class="informaltable">
          <table border="1"><colgroup><col width="150" align="left"/><col/></colgroup><thead><tr><th align="left">항목</th><th>설명</th></tr></thead><tbody><tr><td align="left">&lt;module-info&gt;<a id="d4e1516" class="indexterm"></a></td><td>EJB 모듈 전체에 적용되는 포괄적인 정보를 설정한다. Role Assignment에 관련된 정보는
                <a href="chapter_common_characters_of_ejb.html#ejb_security" title="4.2.6. EJB 보안 설정">“4.2.6. EJB 보안 설정”</a>을 참고한다.</td></tr><tr><td align="left">&lt;beanlist&gt;<a id="d4e1523" class="indexterm"></a></td><td><p>모듈에 포함되는 EJB들을 선언한다. 이 하위 태그의 이름과 내용은 Bean의
                종류(Session Bean. Entity Bean, MDB)에 따라 세부 설정이
                달라진다.</p><p>&lt;beanlist&gt;와 그것의 하위 태그는 <a href="chapter_common_characters_of_ejb.html" title="제4장 EJB의 공통 특성">“제4장 EJB의 공통 특성”</a>, <a href="chapter_session_ejb.html" title="제7장 Session Bean">“제7장 Session Bean”</a>부터 <a href="chapter_mdb.html" title="제9장 Message Driven Bean(MDB)">“제9장 Message Driven Bean(MDB)”</a>을 통해 자세히 설명한다.</p></td></tr><tr><td align="left">&lt;ejb-relation-map&gt;<a id="d4e1534" class="indexterm"></a></td><td>CMP 2.0 Bean들을 위한 CMR 매핑을 정의한 EJB Relation Mapping
                설정이다. CMP는 더 이상 사용을 권장하지 않으므로 JPA를 사용한다.</td></tr><tr><td align="left">&lt;message-destination&gt;<a id="d4e1540" class="indexterm"></a></td><td>ejb-jar.xml의 &lt;message-destination&gt;에 선언된 message
                destination과 JNDI에 등록된 실제 Destination 객체를 매핑한다.</td></tr><tr><td align="left">&lt;library-ref&gt;<a id="d4e1546" class="indexterm"></a></td><td>애플리케이션에서 사용할 공유 라이브러리(shared library)의 정보를
                설정한다.</td></tr></tbody></table>
        </div>

      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d4e1551"></a>3.3.3. EJB JAR 파일 패키징</h3></div></div></div>
      

      <p>EJB JAR 파일을 패키징할 때에는 <span><strong class="guibutton">jar</strong></span> 유틸리티를 사용하고, 다음의
      사항을 가정한다.</p><div class="itemizedlist"><ul type="disc"><li>
            <p>ejb/basic/statefulSession 디렉터리에 "counter" EJB 클래스 파일들이
            존재한다.</p>
          </li><li>
            <p>클래스에 Annotation으로 설정하여 ejb-jar.xml과 jeus-ejb-dd.xml은 존재하지
            않는다.</p>
          </li></ul></div>

      <div class="literallayout"><p/></div>

      <p>EJB JAR 파일의 패키징 과정은 다음과 같다.</p>

      <div class="orderedlist"><ol type="1"><li>
            <p>다음과 같이 EJB 클래스들을 하나의 JAR 파일로 묶는다.</p>

            <pre class="screen">$ jar cf countermod.jar ejb/basic/statefulSession</pre>

            <p>이것으로 countermod.jar라는 Java EE EJB 모듈을 완성한다.</p>
          </li><li>
            <p>클라이언트에서 이 EJB를 사용하기 위해서는 인터페이스 파일이 필요하다. 클라이언트에서 사용하기 위해 배포할
            counterbeanclient.jar는 다음과 같이 생성한다.</p>

            <pre class="screen">$ jar cf counterbeanclient.jar ejb/basic/statefulSession/Counter.class</pre>

            <p/>

            <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
                <p>counterbeanclient.jar는 원격 클라이언트에서 사용하기 위한 배포용
                라이브러리이다.</p>
              </div>

            <p/>
          </li></ol></div>

      <p/>

      <p/>
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="sect_ejbmodule_deploy"></a>3.4. EJB 모듈 Deploy</h2></div></div></div>
    

    <p>본 절에서는 EJB 모듈의 deploy에 대한 내용을 설명한다.<a id="d4e1583" class="indexterm"></a></p>

    <p/>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d4e1586"></a>3.4.1. Deploy</h3></div></div></div>
      

      <p/>

      <p>일반적으로는 deploy할 때 EJB 클래스를 컴파일하지만
      <span><strong class="guibutton">appcompiler</strong></span>를 사용해서 EJB 클래스를 미리 컴파일하면 deploy할 때의
      속도를 향상시킬 수 있다. 또한 Auto Deploy 기능을 사용해서 손쉽게 EJB 모듈을 deploy할 수도 있다.
      Deploy에 대한 자세한 내용은 <a xmlns="" href="../deployment/index.html" class="olink">"JEUS
      Applications &amp; Deployment 안내서"</a>를 참고한다.</p>

      <div class="literallayout"><p/></div>

      <p><a href="chapter_ejb_module.html#figure_ejb_sequence_diagram" title="[그림 3.1] EJB 모듈 관리 순서도">[그림 3.1]</a>에서 JEUS는 다음과 같은 방법으로
      EJB 모듈을 deploy한다. </p><div class="itemizedlist"><ul type="disc"><li>
            <p>appcompiler 툴 이용<a id="d4e1599" class="indexterm"></a></p>

            <p>appcompiler 툴을 사용하면 Stub과 Skeleton 파일들을 미리 생성하여 Deploy 속도를
            빠르게 할 수 있다.</p>
          </li><li>
            <p>EJB 모듈의 Boot-time Deploy<a id="d4e1604" class="indexterm"></a></p>

            <p>EJB 엔진이 시작할 때마다 EJB 모듈이 자동으로 deploy되도록 한다.</p>
          </li><li>
            <p>EJB 모듈의 Runtime Deploy<a id="d4e1609" class="indexterm"></a></p>

            <p>EJB 엔진이 시작되고 난 후에 즉, EJB 엔진이 운영되고 있을 때 EJB 모듈을
            deploy한다.</p>

            <p>콘솔 툴과 WebAdmin을 사용해서 EJB 모듈을 EJB 엔진에 deploy한다.</p>
          </li></ul></div>

      <p/>

      <p/>

      <p/>

      <div class="literallayout"><p/></div>

      <h4><a id="d4e1619"></a>appcompiler 툴 이용</h4>

      <p><a id="d4e1621" class="indexterm"></a>EJB 2.x 모듈의 경우 appcompiler 툴을 사용함으로써 Stub과 Skeleton 파일들을
      미리 생성하여 Deploy 속도를 빠르게 할 수 있다. appcompiler를 사용할 경우에는 콘솔 툴의 deploy 명령을 할
      때 –fast 옵션을 사용한다. 이 옵션이 사용되지 않을 경우에는 appcompiler는 효과가 없다. appcompiler 툴에
      대한 자세한 정보는 <a xmlns="" href="../reference-book/ch04.html#reference_appcompiler" class="olink">“<span xmlns="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" class="olinkdocname">JEUS Reference Book</span>”의 “4.3. appcompiler”</a>를 참조한다.</p>

      <p/>

      <div class="literallayout"><p/></div>

      <h4><a id="d4e1628"></a>EJB 모듈의 Boot-time Deploy<a id="d4e1629" class="indexterm"></a></h4>

      <p>MS가 기동(Booting)될 때 deploy되는 것을 Boot-time Deploy라고 하는데, DAS를 통해 한 번
      deploy된 애플리케이션은 MS를 기동할 때마다 Boot-time Deploy가된다. 애플리케이션의 Deploy 설정에 대한
      자세한 내용은 <a xmlns="" href="../deployment/chapter_assembling_and_deploying_applications.html" class="olink">“<span xmlns="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" class="olinkdocname">JEUS Applications &amp; Deployment 안내서</span>”의 “제4장 애플리케이션 작성 및 Deploy”</a>를
      참고한다.</p>

      <p>하나의 도메인에 여러 개의 애플리케이션을 등록할 수 있다.</p>

      <p/>

      <div class="literallayout"><p/></div><h4><a id="d4e1637"></a><span><strong class="guibutton">EJB 모듈의
      Runtime Deploy <a id="d4e1639" class="indexterm"></a></strong></span></h4>

      <p>Runtime deploy는 실행되고 있는 EJB 엔진에 EJB 모듈을 deploy하는 것을 의미한다. 콘솔 툴의
      <span><strong class="guibutton">deploy</strong></span> 명령어를 이용하여 실행되고 있는 EJB 엔진에 모듈을 설치할 수
      있다.</p>

      <p>"countermod" EJB 모듈의 deploy 과정을 설명한다. 모듈을 deploy하기 위해 다음의 사항을
      가정한다.</p>

      <div class="itemizedlist"><ul type="circle" compact="compact"><li style="list-style-type: circle">
          <p>JEUS의 adminServer이라는 DAS와 server1이라는 MS가 이미 기동(Booting)되어
          있다.</p>
        </li><li style="list-style-type: circle">
          <p>countermod 모듈이 JEUS_HOME/apphome 하위의 countermod.jar나
          countermod 디렉터리 형태로 존재한다.</p>
        </li></ul></div>

      <p/>

      <div class="literallayout"><p/></div>

      <p>EJB 모듈의 Runtime Deploy는 콘솔 툴을 사용하거나 WebAdmin을 사용할 수 있다.</p>

      <div class="itemizedlist"><ul type="disc"><li>
            <p><span><strong class="guibutton">WebAdmin 사용</strong></span></p>

            <p>WebAdmin을 사용하여 deploy하는 과정은 다음과 같다.</p>

            <div class="orderedlist"><ol type="1"><li>
                  <p>WebAdmin의 <span><strong class="guibutton">[Applications]</strong></span> 메뉴를
                  선택하면 애플리케이션 목록 조회화면으로 이동한다. 애플리케이션 목록 조회화면에서 deploy하려는
                  애플리케이션의 <span><strong class="guibutton">[deploy]</strong></span> 버튼을 클릭한다.</p>

                  <div class="figure"><a id="figure_application_info"></a><p class="title"><b>[그림 3.3] 애플리케이션 Deploy - 애플리케이션 목록 조회</b></p><div class="figure-contents">
                    

                    <div xmlns="" class="mediaobject" align="left"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="701"><tr><td align="left"><img src="resources/figure_application_info.png" align="top" width="701" alt="애플리케이션 Deploy - 애플리케이션 목록 조회"/></td></tr></table></div>
                  </div></div><br class="figure-break"/>
                </li><li>
                  <p><span><strong class="guibutton">[LOCK &amp; EDIT]</strong></span> 버튼을 클릭해서 설정변경
                  모드로 전환한다.</p>
                </li><li>
                  <p><span><strong class="guibutton">Deploy</strong></span> 화면에서 애플리케이션의 deploy 속성을
                  설정하고 <span><strong class="guibutton">[확인]</strong></span> 버튼을 클릭한다.</p>

                  <div class="figure"><a id="d4e1677"></a><p class="title"><b>[그림 3.4] 애플리케이션 Deploy - 속성 설정</b></p><div class="figure-contents">
                    

                    <div xmlns="" class="mediaobject" align="left"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="493"><tr><td align="left"><img src="resources/figure_application_deploy.png" align="top" width="493" alt="애플리케이션 Deploy - 속성 설정"/></td></tr></table></div>
                  </div></div><br class="figure-break"/>

                  <div xmlns="" class="mediaobject" align="left"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="455"><tr><td align="left"><img src="resources/figure_application_deploy_advanced.png" align="top" width="455"/></td></tr></table></div>

                  <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
                    <p>WebAdmin에서의 애플리케이션 Deploy 설정에 대한 자세한 내용은 <a xmlns="" href="../deployment/chapter_assembling_and_deploying_applications.html" class="olink">“<span xmlns="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" class="olinkdocname">JEUS Applications &amp; Deployment 안내서</span>”의 “제4장 애플리케이션 작성 및 Deploy”</a>의
                    deploy 항목을 참고한다.</p>
                  </div>
                </li><li>
                  <p>deploy된 애플리케이션은 <span><strong class="guibutton">'Command'</strong></span> 컬럼에
                  다음과 같이 <span><strong class="guibutton">[stop], [undeploy], [redeploy],
                  [add-target], [remove-target]</strong></span>의 버튼이 생기면서 제어가
                  가능해진다. 각 버튼의 기능과 제어에 대한 자세한 내용은 <a href="chapter_ejb_module.html#sect_ejbmodule_controlling" title="3.5.1. EJB 모듈 제어">“3.5.1. EJB 모듈 제어”</a>를 참고한다.</p>

                  <div class="figure"><a id="figure_ApplicationDeployed"></a><p class="title"><b>[그림 3.5] 애플리케이션 Deploy - 결과</b></p><div class="figure-contents">
                    

                    <div xmlns="" class="mediaobject" align="left"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="692"><tr><td align="left"><img src="resources/figure_application_deployed.png" align="top" width="692" alt="애플리케이션 Deploy - 결과"/></td></tr></table></div>
                  </div></div><br class="figure-break"/>
                </li></ol></div>
          </li><li>
            <p><span><strong class="guibutton">콘솔 툴 사용</strong></span></p>

            <p>deploy 과정은 다음과 같다.</p>

            <div class="orderedlist"><ol type="1"><li>
                <p>콘솔 툴을 실행한다. 콘솔 툴에 대한 자세한 설명은 <a xmlns="" href="../reference-book/ch04.html#jeusadmin-common-commands" class="olink">“<span xmlns="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" class="olinkdocname">JEUS Reference Book</span>”의 “4.2.2. Local 명령어”</a>를 참고한다.</p>

                <pre class="screen">$ jeusadmin -host localhost:9736</pre>
              </li><li>
                <p>사용자 이름과 패스워드를 입력한다.</p>

                <pre class="screen">User name: administrator
Password:
Attempting to connect to localhost:9736.
The connection has been established to Domain Administration Server adminServer
in the domain domain1.
JEUS8 Administration Tool
To view help, use the 'help' command.
[DAS]domain1.adminServer&gt;</pre>
              </li><li>
                <p><span><strong class="guibutton">deploy</strong></span> 명령을 실행해서 "countermod" EJB
                모듈을 deploy한다.</p>

                <p/>

                <pre class="screen">[DAS]domain1.adminServer&gt; deploy countermod -servers server1</pre>
              </li><li>
                <p>deploy를 확인하기 위해 다음과 같이
                <span><strong class="guibutton">application-info</strong></span> 명령을 실행하면 "countermod"
                모듈이 포함된 모든 deploy된 애플리케이션들이 출력된다.</p>

                <pre class="screen">[DAS]domain1.adminServer&gt; application-info</pre>
              </li></ol></div>
          </li></ul></div>

      <p/>

      <p/>

      <p/>

      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="d4e1727"></a>3.4.2. Deploy된 EJB 모듈의 디렉터리 구조</h3></div></div></div>
      

      <p>EJB 모듈이 deploy된 후에 클래스 파일들과 설정 파일들은 다음과 같은 구조로 JEUS 설치 디렉터리에
      배포된다.</p>

      <p/>

      <div class="figure"><a id="figure_domain_config"></a><p class="title"><b>[그림 3.6] deploy된 EJB 모듈의 디렉터리 구조</b></p><div class="figure-contents">
          

          <div xmlns="" class="mediaobject" align="left"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="474"><tr><td align="left"><img src="resources/figure_10_predepleyed_file_structure.png" align="top" width="474" alt="deploy된 EJB 모듈의 디렉터리 구조"/></td></tr></table></div>
        </div></div><p><br class="figure-break"/></p>

      <p><span><strong class="guibutton">JEUS_HOME/domains/</strong></span><span class="emphasis"><em><span><strong class="guibutton">&lt;domain
      name&gt;</strong></span></em></span><span><strong class="guibutton">/servers/</strong></span><span class="emphasis"><em><span><strong class="guibutton">&lt;server
      name&gt;</strong></span></em></span><span><strong class="guibutton">/.workspace/deployed/</strong></span>
      디렉터리는 <span class="emphasis"><em>&lt;server name&gt;</em></span>에 해당하는 MS에 deploy된
      애플리케이션들이 존재하는 디렉터리이다. 여기에는 deploy된 EJB 모듈의 EJB 구현 클래스들뿐만 아니라 helper
      클래스들이 위치한다.</p>

      <p>Deploy 방식은 다음과 같이 나누어지며, 방식에 따라 deploy되는 파일이 위치하는 디렉터리가
      달라진다.</p>

      <div class="informaltable">
        <table border="1"><colgroup><col width="210" align="left"/><col/></colgroup><thead><tr><th align="left">Deploy 방식</th><th>설명</th></tr></thead><tbody><tr><td align="left">EAR Deploy 방식<a id="d4e1757" class="indexterm"></a></td><td>EAR 파일이 deploy되는 경우에는 해당 EAR 파일 이름으로 생성된 디렉터리 아래에 EAR에
              포함된 모듈이 각각 놓인다.</td></tr><tr><td align="left">Standalone Deploy 방식<a id="d4e1762" class="indexterm"></a></td><td>JAR 파일이 deploy된 경우에는 해당 JAR 파일 이름으로 생성된 디렉터리에
              "&lt;<span class="emphasis"><em>jar 파일 이름</em></span>&gt;_jar___" 디렉터리 아래에
              놓인다.</td></tr><tr><td align="left">Exploded EAR Deploy 방식<a id="d4e1768" class="indexterm"></a></td><td>EAR 파일을 Archive 형태가 아닌 풀어놓은 상태에서 deploy하는 방식이다.</td></tr><tr><td align="left">Exploded Standalone Deploy 방식<a id="d4e1773" class="indexterm"></a></td><td>JAR 파일을 Archive 형태가 아닌 풀어놓은 상태에서 deploy하는 방식이다.</td></tr></tbody></table>
      </div>

      <p>Exploded EAR Deploy 방식과 Exploded Standalone Deploy 방식은 webhome
      디렉터리로 복사되지 않고 원래의 위치를 참조한다. JEUS에서는 Archive 파일이 존재하는 standalone
      Deployment를 <span><strong class="guibutton">COMPONENT Type</strong></span>, 풀어놓은 것을
      <span><strong class="guibutton">EXPLODED COMPONENT Type</strong></span>이라고 부른다.<a id="d4e1779" class="indexterm"></a></p>

      <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
          <p>이후의 설명에서는 Standalone 모듈에 대해서만 설명한다. EAR Deploy 방식이나 Deploy 전반에
          대한 상세한 설명은 <a xmlns="" href="../deployment/index.html" class="olink">"JEUS
          Applications &amp; Deployment 안내서"</a>의 Deploy 관련 부분을
          참고한다.</p>
        </div>

      <p/>

      <p/>
    </div>
  </div>

  <div class="section" lang="ko"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d4e1787"></a>3.5. EJB 모듈 제어 및 모니터링</h2></div></div></div>
    

    <p><a id="d4e1790" class="indexterm"></a>deploy된 EJB 모듈에 대해 실행 상태를 제어하거나 모니터링할 수 있다. (<a href="chapter_ejb_module.html#figure_ejb_sequence_diagram" title="[그림 3.1] EJB 모듈 관리 순서도">[그림 3.1]</a> 참고)</p>

    <p/>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="sect_ejbmodule_controlling"></a>3.5.1. EJB 모듈 제어</h3></div></div></div>
      

      <p>deploy된 EJB 모듈을 stop-application, start-application,
      redeploy-application, undeploy 명령을 통해 EJB 모듈 내의 실행 상태를 제어할 수 있다.</p>

      <p>EJB 모듈의 제어는 다음과 같이 2가지 방법을 사용할 수 있다.</p>

      <div class="itemizedlist"><ul type="disc"><li>
            <p>WebAdmin을 사용한 EJB 모듈 제어</p>
          </li><li>
            <p>콘솔 툴을 사용한 EJB 모듈 제어</p>
          </li></ul></div>

      <p>본 절에서는 undeploy 명령의 사용 예제를 통해 EJB 모듈을 제어하는 방법에 대해 설명한다.</p>

      <div class="literallayout"><p/></div>

      <h4><a id="d4e1808"></a>WebAdmin 사용</h4>

      <p>WebAdmin을 사용하여 EJB 모듈을 제어할 수 있다.</p>

      <p/>

      <p>다음은 WebAdmin을 사용하여 undeploy하는 과정에 대한 설명이다.</p>

      <div class="orderedlist"><ol type="1"><li>
            <p>WebAdmin의 <span><strong class="guibutton">[Applications]</strong></span> 메뉴를 클릭하면 다음과
            같이 <span><strong class="guibutton">Deployed Application</strong></span> 화면에 애플리케이션 목록이
            조회된다. 목록에서 deploy된 애플리케이션의 <span><strong class="guibutton">'Command'</strong></span> 컬럼에는
            다음과 같은 컨트롤 버튼이 존재한다. 각 버튼은 콘솔 툴의 옵션과 각각 대응된다.</p>

            <p>애플리케이션을 undeploy하려면 조회된 애플리케이션 목록에서 원하는 애플리케이션의
            <span><strong class="guibutton">'Command'</strong></span> 컬럼에 위치한
            <span><strong class="guibutton">[undeploy]</strong></span> 버튼을 클릭한다.</p>

            <div class="figure"><a id="figure_boot_time_deploy"></a><p class="title"><b>[그림 3.7] deploy된 애플리케이션 목록</b></p><div class="figure-contents">
              

              <div xmlns="" class="mediaobject" align="left"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="711"><tr><td align="left"><img src="resources/figure_11_deployed_application.png" align="top" width="711" alt="deploy된 애플리케이션 목록"/></td></tr></table></div>
            </div></div><br class="figure-break"/>

            <p/>
          </li><li>
            <p>다음과 같이 <span><strong class="guibutton">Undeploy</strong></span> 화면이 나타나고, 요청 중인 서비스가
            완료될 때까지 기다리는 시간인 <span><strong class="guibutton">'Timeout'</strong></span> 항목을 설정하고
            <span><strong class="guibutton">[확인]</strong></span> 버튼을 클릭하면 undeploy가 수행된다.</p>

            <div class="figure"><a id="figure_ApplicationUndeploy"></a><p class="title"><b>[그림 3.8] 애플리케이션 Undeploy - 속성 설정</b></p><div class="figure-contents">
              

              <div xmlns="" class="mediaobject" align="left"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="474"><tr><td align="left"><img src="resources/figure_application_undeploy.png" align="top" width="474" alt="애플리케이션 Undeploy - 속성 설정"/></td></tr></table></div>
            </div></div><br class="figure-break"/>

            <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
              <p><span><strong class="guibutton">'Graceful'</strong></span> 항목은 Graceful Redeploy가
              진행된 경우 old 애플리케이션과 new 애플리케이션 중 어느 것을 undeploy할지 결정하는
              설정이다.</p>
            </div>
          </li><li>
            <p>정상적으로 undeploy가 되면 다음과 같이 결과 메시지가 나타나고 해당 애플리케이션의
            <span><strong class="guibutton">'State'</strong></span>와 <span><strong class="guibutton">'Command'</strong></span>
            컬럼이 변경된 것을 확인할 수 있다.</p>

            <div class="figure"><a id="figure_ApplicationUndeployed"></a><p class="title"><b>[그림 3.9] 애플리케이션 Undeploy - 결과</b></p><div class="figure-contents">
              

              <div xmlns="" class="mediaobject" align="left"><table border="0" summary="manufactured viewport for HTML img" cellspacing="0" cellpadding="0" width="711"><tr><td align="left"><img src="resources/figure_application_undeployed.png" align="top" width="711" alt="애플리케이션 Undeploy - 결과"/></td></tr></table></div>
            </div></div><br class="figure-break"/>
          </li></ol></div>

      <p/>

      <div class="literallayout"><p/></div>

      <h4><a id="d4e1854"></a>콘솔 툴 사용</h4>

      <p>콘솔 툴에는 다음과 같은 제어 명령을 사용해서 EJB 모듈을 제어한다. 모든 명령어는 EJB 모듈의 ID를 파라미터로
      받는다.</p>

      <p/>

      <div class="itemizedlist"><ul type="disc"><li>
          <p><span><strong class="guibutton">redeploy-application<a id="d4e1861" class="indexterm"></a></strong></span></p>

          <p>redeploy-application은 지정한 EJB 모듈을 다시 로딩하는 명령어로 현재 활성화되어 있는 EJB
          모듈을 EJB 실행 환경에서 undeploy했다가 다시 디스크로부터 읽어 deploy하는 것을 의미한다.</p>

          <p>undeploy가 실행되고 다시 로딩이 수행될 때 undeploy된 EJB 모듈의 모든 트랜잭션 상태는
          잃어버린다. 이는 undeploy되거나 redeploy되는 모듈과 연관있는 모든 EJB 트랜잭션이 rollback된다는
          것을 의미한다.</p>

          <pre class="screen">redeploy-application <span class="emphasis"><em>&lt;application-id&gt;</em></span></pre>
        </li></ul></div>

      <div class="itemizedlist"><ul type="disc"><li>
          <p><span><strong class="guibutton">stop-application<a id="d4e1873" class="indexterm"></a></strong></span></p>

          

          <p>stop-application 명령은 선택된 EJB 모듈을 일시적으로 중지시켜 클라이언트의 요청으로부터
          한시적으로 EJB 모듈이 접근이 불가능한 상태가 된다. start-application 명령으로 다시 EJB 모듈을 접근
          가능한 상태로 되돌린다.</p>

          <pre class="screen">stop-application <span class="emphasis"><em>&lt;application-id&gt;</em></span></pre>
        </li><li>
          <p><span><strong class="guibutton">start-application<a id="d4e1883" class="indexterm"></a></strong></span></p>

          <p>stop-application 명령으로 중지되었던 EJB 모듈을 다시 활성화한다.</p><pre class="screen">start-application <span class="emphasis"><em>&lt;application-id&gt;</em></span></pre>
        </li><li>
          <p><span><strong class="guibutton">undeploy<a id="d4e1892" class="indexterm"></a></strong></span></p>

          <p>undeploy 명령은 선택된 모듈을 EJB 엔진의 실행 메모리에서 제거해서 EJB 엔진의 운영 메모리에서
          EJB 모듈을 내려 EJB 클라이언트가 EJB에 접근 불가능한 상태가 된다. 그러나 파일을 물리적으로 삭제하지는
          않는다.</p>

          <pre class="screen">undeploy <span class="emphasis"><em>&lt;application-id&gt;</em></span></pre>
        </li></ul></div>

      <div class="literallayout"><p/></div>

      <p/>

      <p>다음은 콘솔 툴을 사용하여 EJB 모듈을 undeploy하는 방법을 설명하는 예이다.</p>

      <div class="orderedlist"><ol type="1"><li>
          <p>콘솔 툴을 실행한다.</p>

          <pre class="screen">$ jeusadmin -host localhost:9736</pre>
        </li><li>
          <p>사용자 이름과 패스워드를 입력한다.</p>

          <pre class="screen">User name: administrator
Password:
Attempting to connect to localhost:9736.
The connection has been established to Domain Administration Server adminServer
in the domain domain1.
JEUS8 Administration Tool
To view help, use the 'help' command.
[DAS]domain1.adminServer&gt;</pre>

          <p/>
        </li><li>
          <p>다음과 같이 <span><strong class="guibutton">undeploy</strong></span> 명령을 실행하고 성공하면
          "countermod" EJB 모듈이 undeploy된다.</p>

          <pre class="screen">[DAS]domain1.adminServer&gt; undeploy countermod</pre>
        </li><li>
          <p>undeploy된 것을 확인하기 위해 다음과 같이
          <span><strong class="guibutton">application-info</strong></span> 명령을 실행한다. "countermod" 모듈을
          제외한 deploy된 모든 모듈들이 조회된다.</p>

          <pre class="screen">[DAS]domain1.adminServer&gt; application-info</pre>
        </li></ol></div>

      <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
          <p>콘솔 툴에 대한 상세한 정보는 <a xmlns="" href="../reference-book/ch04.html#reference_jeusadmin" class="olink">“<span xmlns="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" class="olinkdocname">JEUS Reference Book</span>”의 “4.2. jeusadmin”</a>을 참조한다.</p>
        </div>

      <p/>

      <p/>
    </div>

    <div class="section" lang="ko"><div class="titlepage"><div><div><h3 class="title"><a id="sect_ejbmodule_monitoring"></a>3.5.2. EJB 모듈 모니터링</h3></div></div></div>
      

      <p><a id="d4e1932" class="indexterm"></a></p>

      <p>콘솔 툴을 사용하여 EJB 모듈을 모니터링할 수 있다. 콘솔 툴에서
      <span><strong class="guibutton">application-info</strong></span> 명령을 실행하면 다음과 같이 deploy되고 활성화된
      EJB모듈로부터 상태와 운영 정보를 조회할 수 있다. application-info 명령에 대한 자세한 내용은 <a xmlns="" href="../reference-book/ch04.html#jeusadmin-ejb-engine-commands" class="olink">“<span xmlns="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" class="olinkdocname">JEUS Reference Book</span>”의 “4.2.7. EJB 엔진 관련 명령어”</a>를 참고한다.</p>

      <p/>

      <div class="itemizedlist"><ul type="disc"><li>
          <p><span><strong class="guibutton">모듈 정보 조회 </strong></span></p>

          <p>해당 모듈에 대한 정보를 조회한다.</p>

          <pre class="screen">[DAS]domain1.adminServer&gt;<span><strong class="guibutton">application-info -server server1 -id countermod -detail</strong></span>
General information about the EJB module [countermod].
==============================================================
+-------------+----------------------------------------------+
| Module Name |              Unique Module Name              |
+-------------+----------------------------------------------+
| countermod  | countermod                                   |
+-------------+----------------------------------------------+
==============================================================

Beans
================================================================================

+-----------+-------------------------+-------------------+--------------------+
| Bean Name |           Type          | Local Export Name | Remote Export Name |
+-----------+-------------------------+-------------------+--------------------+
| Count     | StatelessSessionBean    |                   | Count              |
+-----------+-------------------------+-------------------+--------------------+

================================================================================
</pre>
        </li></ul></div>

      <p/>

      <div class="itemizedlist"><ul type="disc"><li>
          <p><span><strong class="guibutton">Bean 조회 </strong></span></p>

          <p>해당 모듈("application-id")에 포함된 EJB의 목록을 조회한다.</p>

          <pre class="screen">[DAS]domain1.adminServer&gt;<span><strong class="guibutton">application-info -server server1 -id countermod -bean Count</strong></span>
Module name : countermod
Bean name : Count
================================================================================

+---------------+-----------+-------------------+--------------+---------------+
|      Name     |  (Count)  | WaterMark(High:Low| Bound(Upper:L| Time(Max:Min:T|
|               |           |       :Cur)       |    ower)     |     otal)     |
+---------------+-----------+-------------------+--------------+---------------+
| create        | times(0)  |                   |              |               |
+---------------+-----------+-------------------+--------------+---------------+
| comitted      | transactio|                   |              |               |
|               |n(0)       |                   |              |               |
+---------------+-----------+-------------------+--------------+---------------+
| total-remote-t|           |thread(100:100:100)|              |               |
|hread          |           |                   |              |               |
+---------------+-----------+-------------------+--------------+---------------+
| timed-rb      | transactio|                   |              |               |
|               |n(0)       |                   |              |               |
+---------------+-----------+-------------------+--------------+---------------+
| remove        | times(0)  |                   |              |               |
+---------------+-----------+-------------------+--------------+---------------+
| active-bean   |           | bean(0:0:0)       |              |               |
+---------------+-----------+-------------------+--------------+---------------+
| request       | request(0)|                   |              |               |
+---------------+-----------+-------------------+--------------+---------------+
| total-bean    |           | bean(0:0:0)       |              |               |
+---------------+-----------+-------------------+--------------+---------------+
| rolledback    | transactio|                   |              |               |
|               |n(0)       |                   |              |               |
+---------------+-----------+-------------------+--------------+---------------+
| active-thread |           | thread(0:0:0)     |              |               |
+---------------+-----------+-------------------+--------------+---------------+
| MethodReadyCou|           | bean(0:0:0)       |              |               |
|nt             |           |                   |              |               |
+---------------+-----------+-------------------+--------------+---------------+

================================================================================</pre>
        </li></ul></div>

      <p/>

      <p/>

      <div class="note" style="margin-left: 0in; margin-right: 0in;"><h3 class="title">참고</h3>
        <p>EJB 모듈의 모니터링은 WebAdmin을 사용할 수도 있지만 콘솔 툴을 사용할 경우에 더 자세한 정보를 조회할 수
        있다. WebAdmin을 사용할 경우 <span><strong class="guibutton">[Monitoring]</strong></span> 메뉴의
        <span><strong class="guibutton">[JNDI]</strong></span> 또는 <span><strong class="guibutton">[EJBTimer]</strong></span> 메뉴를
        통해 EJB 모듈의 일부 정보를 모니터링할 수 있다. 모니터링하는 자세한 방법은 각각 <a xmlns="" href="../server/chapter_jndi.html#jeus-jndi-info" class="olink">“<span xmlns="http://www.w3.org/1999/xhtml" xmlns:xlink="http://www.w3.org/1999/xlink" class="olinkdocname">JEUS Server 안내서</span>”의 “4.2.2. 바인딩된 객체 확인”</a>과 <a xmlns="" href="chapter_ejb_timer_service.html#sect_timer_monitoring" class="olink">“10.2. Timer 모니터링”</a>을
        참고한다.</p>
      </div>

      <p/>
    </div>
  </div>
</div><div class="navfooter"><hr/><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="chapter_ejb_engine.html">이전</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="chapter_common_characters_of_ejb.html">다음</a></td></tr><tr><td width="40%" align="left" valign="top">제2장 EJB 엔진 </td><td width="20%" align="center"><a accesskey="h" href="index.html">처음으로</a></td><td width="40%" align="right" valign="top"> 제4장 EJB의 공통 특성</td></tr></table></div><div xmlns="" align="center"/></body></html>
