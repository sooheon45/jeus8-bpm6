import{cq as L,cr as N,cs as F,ct as M,cu as E,cv as R,cw as W,cx as K,cy as q,_ as A,B as x,o as i,e as c,w as s,b as a,ao as r,f,ax as $,a as t,t as n,P as D,X as J,V as U,D as O,d as p,Q as g,c as b,i as B,F as P,c7 as k,W as v,ba as S,r as z,O as Q,a$ as X,N as G,a2 as w,j as H,n as C,J as Y,h as Z,k as ee,m as ae,l as se,p as T,cz as te}from"./index-7b37f28a.js";const le="/assets/1-32ddcd87.jpg",oe="/assets/2-1c16a104.jpg",ne="/assets/3-0594bd0b.jpg",ie="/assets/4-76ce6c0c.jpg",de="/assets/5-d39d5aaf.jpg",re="/assets/6-5dd5376d.jpg",ce="/assets/7-920a7641.jpg",ue="/assets/8-10135496.jpg",me="/assets/user-1-5cd1b7a0.jpg",fe={profile1:le,profile2:oe,profile3:ne,profile4:ie,profile5:de,profile6:re,profile7:ce,profile8:ue,profile9:me,profile10:L,profile11:N,profile12:F,profile13:M,profile14:E,profile15:R,profile16:W,profile17:K,profile18:q};const j=x.createBackend(),pe={data:()=>({userInfo:{},imageChangeDialog:!1,selectedProfileImage:"",profileImages:fe}),async created(){this.userInfo=await j.getUserInfo(),this.selectedProfileImage=this.userInfo.profile},methods:{imageChange(e){this.selectedProfileImage=e,this.imageChangeDialog=!1},async updateUser(){const e={id:this.userInfo.uid,email:this.userInfo.email,username:this.userInfo.name,profile:this.selectedProfileImage};await j.updateUserInfo({type:"update",user:e}),window.location.reload()}}},ge={class:"text-h5"},_e={class:"text-center mt-6 mb-6"},he=["src"],Ve={class:"d-flex justify-center"},ye=["onClick","src"],be={class:"text-subtitle-1 text-grey100 text-center my-sm-8 my-6"},ve={class:"text-h5"},Ie={class:"text-subtitle-1 text-grey100 mt-2"},$e={class:"mt-5"},Ue={class:"d-flex justify-end mt-5 pb-3"};function ke(e,l,V,h,u,m){return i(),c(f,{elevation:"10"},{default:s(()=>[a(g,{class:"ma-sm-n2 ma-n1"},{default:s(()=>[a(r,{cols:"12",sm:"6"},{default:s(()=>[a(f,{elevation:"10"},{default:s(()=>[a($,null,{default:s(()=>[t("h5",ge,n(e.$t("accountTab.profileImageChange")),1),t("div",_e,[a(D,{size:"120"},{default:s(()=>[t("img",{src:e.selectedProfileImage||e.picture||"",height:"120",alt:"image"},null,8,he)]),_:1})]),t("div",Ve,[a(J,{width:"650",modelValue:e.imageChangeDialog,"onUpdate:modelValue":l[0]||(l[0]=o=>e.imageChangeDialog=o)},{activator:s(({props:o})=>[a(U,O(o,{color:"primary",class:"mx-2",rounded:"pill",text:"이미지 선택"}),{default:s(()=>[p(n(e.$t("accountTab.imageSlect")),1)]),_:2},1040)]),default:s(()=>[a(f,{style:{padding:"30px"}},{default:s(()=>[a(g,null,{default:s(()=>[a(r,null,{default:s(()=>[a(g,null,{default:s(()=>[(i(!0),b(P,null,B(e.profileImages,(o,_)=>(i(),b("img",{onClick:()=>m.imageChange(o),class:"change-profile-image",key:_,src:o,width:"100",height:"100",alt:"Mathew",style:{"border-radius":"50%",padding:"10px"}},null,8,ye))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),t("div",be,n(e.$t("accountTab.slectImageExplanation")),1)]),_:1})]),_:1})]),_:1}),a(r,{cols:"12",sm:"6"},{default:s(()=>[a(f,{elevation:"10"},{default:s(()=>[a($,null,{default:s(()=>[t("h5",ve,n(e.$t("accountTab.personalDetails")),1),t("div",Ie,n(e.$t("accountTab.personalDetailsExplanation")),1),t("div",$e,[a(g,null,{default:s(()=>[a(r,{cols:"12",md:"6"},{default:s(()=>[a(k,{class:"mb-2 font-weight-medium"},{default:s(()=>[p(n(e.$t("accountTab.name")),1)]),_:1}),a(v,{color:"primary",variant:"outlined",type:"text",modelValue:e.userInfo.name,"onUpdate:modelValue":l[1]||(l[1]=o=>e.userInfo.name=o),"hide-details":""},null,8,["modelValue"])]),_:1}),a(r,{cols:"12",md:"6"},{default:s(()=>[a(k,{class:"mb-2 font-weight-medium"},{default:s(()=>[p(n(e.$t("accountTab.email")),1)]),_:1}),a(v,{color:"primary",variant:"outlined",type:"email",modelValue:e.userInfo.email,"onUpdate:modelValue":l[2]||(l[2]=o=>e.userInfo.email=o),"hide-details":"",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),t("div",Ue,[a(U,{onClick:m.updateUser,size:"large",color:"primary",rounded:"pill",class:"mr-4"},{default:s(()=>[p(n(e.$t("accountTab.save")),1)]),_:1},8,["onClick"])])]),_:1})}const we=A(pe,[["render",ke]]),y=x.createBackend(),Ce={components:{VDataTable:S},data:()=>({search:"",searchKey:["name","email"],users:[],adminItem:[{name:"Admin",value:!0},{name:"User",value:!1}],headers:[{title:"User",key:"name"},{title:"Role",key:"is_admin",sortable:!1},{title:"Action",key:"action",sortable:!1,align:"end"}]}),created(){this.getUserList()},methods:{async getUserList(){this.users=await y.getUserList(),this.users=this.users.map(e=>({id:e.id,profile:e.profile,name:e.username,email:e.email,is_admin:e.is_admin}))},async updateUser(e){const l={id:e.id,is_admin:e.is_admin};await y.updateUserInfo({type:"update",user:l})},async deleteUser(e){await y.updateUserInfo({type:"delete",user:e})}}},Te={class:"mt-2 mb-5"},je={class:"mt-8"},Ae={class:"overflow-hidden"},xe={class:"d-flex align-center"},De={class:"pl-5"},Be={class:"ml-5"},Pe={class:"text-subtitle-1 font-weight-semibold text-no-wrap"},Se={class:"text-subtitle-1 textSecondary text-no-wrap mt-1"};function ze(e,l,V,h,u,m){const o=z("Icons");return i(),c(f,{elevation:"10"},{default:s(()=>[t("div",Te,[a(v,{modelValue:e.search,"onUpdate:modelValue":l[0]||(l[0]=_=>e.search=_),label:"Search User","hide-details":"","prepend-inner-icon":"mdi-magnify"},null,8,["modelValue"])]),t("div",je,[a(S,{items:e.users,search:e.search,"filter-keys":e.searchKey,headers:e.headers,"items-per-page":"5"},{default:s(({items:_})=>[t("div",Ae,[(i(!0),b(P,null,B(_,d=>(i(),c(g,{key:d.id},{default:s(()=>[a(r,{cols:"9"},{default:s(()=>[t("div",xe,[t("div",De,[d.profile?(i(),c(Q,{key:0,src:d.profile,width:"45px",class:"rounded-circle img-fluid"},null,8,["src"])):(i(),c(D,{key:1},{default:s(()=>[a(o,{icon:"user-circle-bold",size:50})]),_:1}))]),t("div",Be,[t("h4",Pe,n(d.name),1),t("div",Se,n(d.email),1)])])]),_:2},1024),a(r,{cols:"3"},{default:s(()=>[a(X,{modelValue:d.is_admin,"onUpdate:modelValue":[I=>d.is_admin=I,I=>m.updateUser(d)],items:e.adminItem,"item-title":"name","item-value":"value",prefix:"Role:"},null,8,["modelValue","onUpdate:modelValue","items"])]),_:2},1024)]),_:2},1024))),128))])]),_:1},8,["items","search","filter-keys","headers"])])]),_:1})}const Le=A(Ce,[["render",ze]]),Fe=G({setup(e){const l=w(""),V=w(localStorage.getItem("role")==="superAdmin");return(h,u)=>{const m=z("UsersIcon");return i(),c(g,{class:"justify-center"},{default:s(()=>[a(r,{cols:"12",md:"12"},{default:s(()=>[a(f,{elevation:"10"},{default:s(()=>[a(H,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=o=>l.value=o),"bg-color":"transparent","min-height":"70",height:"70",color:"primary"},{default:s(()=>[a(C,{value:"Account"},{default:s(()=>[a(Y(te),{class:"mr-2",size:"20"}),p(n(h.$t("accountTab.accountSetting")),1)]),_:1}),V.value?(i(),c(C,{key:0,value:"ManageAccess"},{default:s(()=>[a(m,{class:"mr-2",size:"20"}),p(n(h.$t("accountTab.manageAccess")),1)]),_:1})):Z("",!0)]),_:1},8,["modelValue"]),a(ee),a(ae,{class:"pa-sm-6 pa-3 pb-sm-6 pb-6"},{default:s(()=>[a(se,{modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=o=>l.value=o)},{default:s(()=>[a(T,{value:"Account"},{default:s(()=>[a(we)]),_:1}),a(T,{value:"ManageAccess"},{default:s(()=>[a(Le)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})}}});export{Fe as default};
