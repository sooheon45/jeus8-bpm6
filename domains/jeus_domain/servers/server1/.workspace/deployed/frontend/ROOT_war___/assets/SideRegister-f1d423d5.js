import{_ as N,r as k,o as g,e as I,w as a,b as s,d as l,t as n,c7 as r,k as R,W as c,V as v,N as q,a2 as d,J as T,c as _,ao as $,a as i,Q as U}from"./index-7b37f28a.js";import{_ as F}from"./login-bg-9971d11d.js";import{u as A,L as B}from"./auth-130ac32b.js";import{F as S}from"./vee-validate.esm-ea1bab04.js";import"./customizer-3521e2ce.js";const E={name:"TenantRegisterForm",components:{Form:S},data:()=>({accountInfo:{username:"",email:"",password:""},accountInfoRules:{username:[e=>!!e||"Name is required",e=>e&&e.length<=10||"Name must be less than 10 characters"],email:[e=>!!e||"E-mail is required",e=>/.+@.+\..+/.test(e)||"E-mail must be valid"],password:[e=>!!e||"Password is required",e=>e&&e.length<=10||"Password must be less than 10 characters"]}}),methods:{async processTenantSignup(){let e=this;e.$try({context:e,action:async()=>{await e.authStore.signUp(e.accountInfo.username,e.accountInfo.email,e.accountInfo.password)}})}},created(){this.authStore=A()}},C=l("Sign up");function P(e,o,m,h,V,b){const p=k("Form");return g(),I(p,{onSubmit:b.processTenantSignup,class:"mt-5"},{default:a(({errors:y,isSubmitting:w})=>[s(r,{class:"text-subtitle-1 font-weight-medium pb-2"},{default:a(()=>[l(n(e.$t("createAccount.tenantRegister")),1)]),_:1}),s(R,{class:"mb-4"}),s(r,{class:"text-subtitle-1 font-weight-medium pb-2"},{default:a(()=>[l(n(e.$t("createAccount.userName")),1)]),_:1}),s(c,{modelValue:e.accountInfo.username,"onUpdate:modelValue":o[0]||(o[0]=t=>e.accountInfo.username=t),rules:e.accountInfoRules.username,required:""},null,8,["modelValue","rules"]),s(r,{class:"text-subtitle-1 font-weight-medium pb-2"},{default:a(()=>[l(n(e.$t("createAccount.email")),1)]),_:1}),s(c,{modelValue:e.accountInfo.email,"onUpdate:modelValue":o[1]||(o[1]=t=>e.accountInfo.email=t),rules:e.accountInfoRules.email,required:""},null,8,["modelValue","rules"]),s(r,{class:"text-subtitle-1 font-weight-medium pb-2"},{default:a(()=>[l(n(e.$t("createAccount.password")),1)]),_:1}),s(c,{modelValue:e.accountInfo.password,"onUpdate:modelValue":o[2]||(o[2]=t=>e.accountInfo.password=t),counter:10,rules:e.accountInfoRules.password,required:"",variant:"outlined",type:"password",color:"primary"},null,8,["modelValue","rules"]),s(v,{size:"large",class:"mt-2",color:"primary",block:"",rounded:"pill",loading:w,type:"submit"},{default:a(()=>[C]),_:2},1032,["loading"])]),_:1},8,["onSubmit"])}const L=N(E,[["render",P]]),j=l("Sign up"),z=q({setup(e){const o=A(),m=d(""),h=d(""),V=d([t=>!!t||"Password is required",t=>t&&t.length<=10||"Password must be less than 10 characters"]),b=d([t=>!!t||"E-mail is required",t=>/.+@.+\..+/.test(t)||"E-mail must be valid"]),p=d(""),y=d([t=>!!t||"Name is required",t=>t&&t.length<=10||"Name must be less than 10 characters"]);function w(t,{setErrors:u}){return o.signUp(p.value,h.value,m.value)}return(t,u)=>(g(),I(T(S),{onSubmit:w,class:"mt-5"},{default:a(({errors:X,isSubmitting:x})=>[s(r,{class:"text-subtitle-1 font-weight-medium pb-2"},{default:a(()=>[l(n(t.$t("createAccount.normalRegister")),1)]),_:1}),s(R,{class:"mb-4"}),s(r,{class:"text-subtitle-1 font-weight-medium pb-2"},{default:a(()=>[l(n(t.$t("createAccount.userName")),1)]),_:1}),s(c,{modelValue:p.value,"onUpdate:modelValue":u[0]||(u[0]=f=>p.value=f),rules:y.value,required:""},null,8,["modelValue","rules"]),s(r,{class:"text-subtitle-1 font-weight-medium pb-2"},{default:a(()=>[l(n(t.$t("createAccount.email")),1)]),_:1}),s(c,{modelValue:h.value,"onUpdate:modelValue":u[1]||(u[1]=f=>h.value=f),rules:b.value,required:""},null,8,["modelValue","rules"]),s(r,{class:"text-subtitle-1 font-weight-medium pb-2"},{default:a(()=>[l(n(t.$t("createAccount.password")),1)]),_:1}),s(c,{modelValue:m.value,"onUpdate:modelValue":u[2]||(u[2]=f=>m.value=f),counter:10,rules:V.value,required:"",variant:"outlined",type:"password",color:"primary"},null,8,["modelValue","rules"]),s(v,{size:"large",class:"mt-2",color:"primary",block:"",rounded:"pill",loading:x,type:"submit"},{default:a(()=>[j]),_:2},1032,["loading"])]),_:1}))}}),D={class:"pa-3"},J={class:"auth-header pt-lg-6 pt-2 px-sm-6 px-3 pb-lg-6 pb-0"},Q={class:"position-relative"},W=i("div",{class:""},[i("img",{src:F,height:"450",class:"position-relative d-none d-lg-flex",alt:"login-background"})],-1),G={class:"mt-xl-0 mt-5 mw-100"},H={class:"text-h3 font-weight-semibold mb-4"},K={key:0},M={key:1},O={class:"text-subtitle-1 text-grey100 d-flex align-center mt-6"},ae=q({props:{isTenantRegister:{type:Boolean}},setup(e){return(o,m)=>(g(),_("div",D,[s(U,{class:"h-100vh mh-100 auth"},{default:a(()=>[s($,{cols:"12",lg:"7",xl:"8",class:"d-lg-flex align-center justify-center authentication position-relative"},{default:a(()=>[i("div",J,[i("div",Q,[s(B)])]),W]),_:1}),s($,{cols:"12",lg:"5",xl:"4",class:"d-flex align-center justify-center bg-surface"},{default:a(()=>[i("div",G,[i("h2",H,n(o.$t("createAccount.title")),1),e.isTenantRegister?(g(),_("div",K,[s(L)])):(g(),_("div",M,[s(z)])),i("h6",O,[l(n(o.$t("createAccount.already"))+" ",1),s(v,{variant:"plain",to:"/auth/login",class:"text-primary text-body-1 opacity-1 pl-2"},{default:a(()=>[l(n(o.$t("createAccount.login")),1)]),_:1})])])]),_:1})]),_:1})]))}});export{ae as default};
